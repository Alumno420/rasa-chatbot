version: "3.1"

rules:

- rule: Decir adiós cuando el usuario dice adiós
  steps:
    - intent: despedida
    - action: utter_despedida

- rule: Decir que es un bot si el usuario pregunta
  steps:
    - intent: bot_challenge
    - action: utter_iamabot

- rule: Decir de nada si el usuario dice 'gracias'
  steps:
    - intent: agradecer
    - action: utter_de_nada

- rule: Activar el formulario
  steps:
    - intent: informar
    - action: asignatura_tipo_dato_form
    - active_loop: asignatura_tipo_dato_form

- rule: Submit del formulario
  condition:
    - active_loop: asignatura_tipo_dato_form
  steps:
    - action: asignatura_tipo_dato_form
    - active_loop: null
    - slot_was_set:
      - requested_slot: null
    - action: action_reset_all_slots
    - action: utter_ask_asignatura
  
- rule: Interrupción del formulario
  condition:
    - active_loop: asignatura_tipo_dato_form
  steps:
    - intent: nlu_fallback
    - action: action_default_fallback
    - action: asignatura_tipo_dato_form
    - active_loop: asignatura_tipo_dato_form

- rule: Cuestion subjetiva
  steps:
    - intent: cuestion_subjetiva
    - action: utter_cuestion_subjetiva
  
- rule: NLU fallback
  steps:
    - intent: nlu_fallback
    - action: action_default_fallback
    - action: utter_default

- rule: Interés en las materias
  steps:
    - intent: interes_materias
    - action: utter_asignatura

- rule: Interés en los tipos de datos
  steps:
    - intent: interes_tipo_dato
    - action: utter_tipo_dato